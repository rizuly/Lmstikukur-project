(()=>{"use strict";var t=function(){return(0,this._self._c)("router-view")};function a(t,a,e,s,i,r,o,n){var l,c="function"==typeof t?t.options:t;if(a&&(c.render=a,c.staticRenderFns=e,c._compiled=!0),s&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):i&&(l=n?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,a){return l.call(a),d(t,a)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}t._withStripped=!0;const e=a({data:()=>({x:""}),methods:{},beforeMount(){}},t,[],!1,null,null,null).exports;var s=function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"card"},[a("div",{staticClass:"container"}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"d-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control form-control-sm mb-2",attrs:{type:"text",placeholder:"Search ..."},domProps:{value:t.search},on:{input:function(a){a.target.composing||(t.search=a.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-sm btn-info ml-2",on:{click:t.kirim}},[a("i",{staticClass:"fa fa-plus"})])]),t._v(" "),a("b-table",{staticStyle:{cursor:"pointer"},attrs:{fields:t.columns,items:t.data,hover:"",filter:t.search,currentPage:t.currentPage,"per-page":t.perPage},on:{"row-clicked":t.openDetail}}),t._v(" "),a("b-pagination",{staticClass:"mt-5",attrs:{"total-rows":t.data.length,"per-page":t.perPage,align:"center"},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}})],1)])])};s._withStripped=!0;const i=a({data:()=>({data:[],search:"",currentPage:1,perPage:10,columns:[{key:"no",label:"No"},{key:"customer",label:"Nama Customer"},{key:"cabang",label:"Cabang"},{key:"tanggal",label:"Tanggal"},{key:"handphone",label:"No Handphone"},{key:"alamat",label:"Alamat"},{key:"rekening",label:"Rekening"}]}),computed:{totalPages(){return Math.ceil(this.data.length/this.perPage)},paginatedData(){const t=(this.currentPage-1)*this.perPage,a=t+this.perPage;return this.data.slice(t,a)}},methods:{getList(){axios.get("/api/sph/list").then((t=>{this.data=t.data.data})).catch((t=>{}))},openDetail(t){this.$router.push(`/${t.id}`)},kirim(){axios.post("/api/sph/post").then((t=>{this.getList()})).catch((t=>{}))}},mounted(){this.getList()}},s,[function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-header bg-info"},[a("div",{staticClass:"d-flex justify-content-between"},[a("strong",{staticClass:"mb-0"},[t._v("Surat Penawaran Harga")]),t._v(" "),a("div")])])}],!1,null,null,null).exports;var r=function(){var t=this,a=t._self._c;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("form",{staticClass:"mt-3 mb-4",on:{submit:t.submitForm}},[a("div",{staticClass:"row mb-2"},[t._m(1),t._v(" "),a("div",{staticClass:"col"},[a("input",{staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.$route.params.id}})])]),t._v(" "),a("div",{staticClass:"row mb-2"},[t._m(2),t._v(" "),a("div",{staticClass:"col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.Data2,expression:"formData.Data2"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.formData.Data2},on:{input:function(a){a.target.composing||t.$set(t.formData,"Data2",a.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row mb-2"},[t._m(3),t._v(" "),a("div",{staticClass:"col"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.Data3,expression:"formData.Data3"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.formData,"Data3",a.target.multiple?e:e[0])}}},t._l(t.area,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.label))])})),0)])]),t._v(" "),a("div",{staticClass:"row mb-2"},[t._m(4),t._v(" "),a("div",{staticClass:"col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.Data4,expression:"formData.Data4"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.formData.Data4},on:{input:function(a){a.target.composing||t.$set(t.formData,"Data4",a.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row mb-2"},[t._m(5),t._v(" "),a("div",{staticClass:"col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.Data5,expression:"formData.Data5"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.formData.Data5},on:{input:function(a){a.target.composing||t.$set(t.formData,"Data5",a.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row mb-2"},[t._m(6),t._v(" "),a("div",{staticClass:"col"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.Data6,expression:"formData.Data6"}],staticClass:"form-control",domProps:{value:t.formData.Data6},on:{input:function(a){a.target.composing||t.$set(t.formData,"Data6",a.target.value)}}})])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row mb-2"},[t._m(7),t._v(" "),a("div",{staticClass:"col"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.Data7,expression:"formData.Data7"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.formData,"Data7",a.target.multiple?e:e[0])}}},t._l(t.status,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.label))])})),0)])]),t._v(" "),a("div",{staticClass:"row mb-2"},[t._m(8),t._v(" "),a("div",{staticClass:"col"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.Data8,expression:"formData.Data8"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.formData,"Data8",a.target.multiple?e:e[0])}}},t._l(t.rekening,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.bank))])})),0)])]),t._v(" "),t._m(9)])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header bg-info d-flex justify-content-between"},[t._m(10),t._v(" "),a("div",[a("button",{staticClass:"btn btn-sm",on:{click:function(a){return t.addOrder()}}},[a("i",{staticClass:"fa fa-plus"})])])]),t._v(" "),a("div",{staticClass:"card-body"},[a("b-table",{attrs:{fields:t.order.columns,items:t.order.list},scopedSlots:t._u([{key:"cell(price_data)",fn:function(e){return[a("div",[a("b-form-select",{attrs:{options:t.dropdownOptions1,"value-field":"id","text-field":"pekerjaan"},on:{change:function(a){return t.UpdateValue(a,e)}}})],1)]}},{key:"cell(price)",fn:function(e){return[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.item.price,expression:"data.item.price"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.item.price},on:{input:function(a){a.target.composing||t.$set(e.item,"price",a.target.value)}}})])]}},{key:"cell(discount)",fn:function(e){return[a("div",[a("b-form-select",{attrs:{options:[{value:0,text:"No"},{value:1,text:"Yes"}]},model:{value:e.item.discount,callback:function(a){t.$set(e.item,"discount",a)},expression:"data.item.discount"}})],1)]}},{key:"cell(unit)",fn:function(e){return[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.item.unit,expression:"data.item.unit"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.item.unit},on:{input:function(a){a.target.composing||t.$set(e.item,"unit",a.target.value)}}})])]}},{key:"cell(qty)",fn:function(e){return[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.item.qty,expression:"data.item.qty"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.item.qty},on:{input:function(a){a.target.composing||t.$set(e.item,"qty",a.target.value)}}})])]}}])})],1)])])};r._withStripped=!0;const o=a({data:()=>({showModal:!1,text:"",onChange(t){console.log(t.target.value),this.text=t.target.value},content:[],dropdownOptions1:[],area:[],status:[],rekening:[],formData:{},order:{columns:[{key:"description_label",label:"",thStyle:{width:"10%"}},{key:"price_data"},"description","price","discount",{key:"qty",label:"Qty",thStyle:{width:"10%"}},"unit","total",{key:"act",label:""}],list:[]},columns:[{key:"description_label",label:"",thStyle:{width:"10%"}},"description","price","discount",{key:"qty",label:"Qty",thStyle:{width:"10%"}},"unit","total",{key:"act",label:""}]}),computed:{x(){return this.$route.params.id}},methods:{UpdateValue(t,a){let e=_.find(this.dropdownOptions1,{id:t});this.order.list[a.index].description=e.pekerjaan,this.order.list[a.index].price=e.harga_customer,console.log(t),console.log(e),console.log(a)},submitForm(t){t.preventDefault(),axios.post(`/api/sph/edit/${this.x}`,this.formData).then((t=>{this.$router.push("/")})).catch((t=>{}))},getList(){axios.get(`/api/sph/detail/${this.x}`).then((t=>{this.content=t.data.data,this.area=t.data.area,this.status=t.data.status,this.rekening=t.data.rekening,this.order.list=t.data.order,this.dropdownOptions1=t.data.harga})).catch((t=>{}))},addOrder(){axios.post(`/api/sph/addOrder/${this.x}`).then((t=>{this.getList()})).catch((t=>{}))},updateOrder(t){axios.post("/api/sph/update-order",t).then((t=>{this.getDetail()})).catch((t=>{}))},openModal(){this.showModal=!0},closeModal(){this.showModal=!1}},beforeRouteEnter(t,a,e){e((t=>{t.getList()}))}},r,[function(){var t=this._self._c;return t("div",{staticClass:"card-header bg-info"},[t("strong",[this._v("Sph Info")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-4"},[t("label",{attrs:{for:""}},[this._v("No Order")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-4"},[t("label",{attrs:{for:""}},[this._v("Customer")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-4"},[t("label",{attrs:{for:""}},[this._v("Cabang JSA")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-4"},[t("label",{attrs:{for:""}},[this._v("Tanggal")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-4"},[t("label",{attrs:{for:""}},[this._v("Handphone")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-4"},[t("label",{attrs:{for:""}},[this._v("Alamat")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-4"},[t("label",{attrs:{for:""}},[this._v("Invoice Status")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-4"},[t("label",{attrs:{for:""}},[this._v("Rekening")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-footer mt-3"},[a("div",[a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Save"}}),t._v(" "),a("a",{staticClass:"btn btn-info btn-sm",attrs:{href:"#"}},[t._v("SHP")])])])},function(){var t=this._self._c;return t("div",[t("strong",[this._v("Order Detail")])])}],!1,null,null,null).exports,n=new VueRouter({mode:"hash",base:"/",routes:[{path:"/",name:"List",component:i},{path:"/:id",name:"Detail",component:o}]});new Vue({el:"#app",router:n,render:function(t){return t(e)}})})();